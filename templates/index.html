<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Image Tagger</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="app:version" content="{{ VERSION }}">
        <link rel="stylesheet"
              href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" />
        <link rel="stylesheet" 
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
              crossorigin="anonymous"
              referrerpolicy="no-referrer" />
        <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon" />
        <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
        <script src="{{ url_for('static', filename='app.js') }}"></script>
        <script type="text/javascript">
            const config = {
                urls: {
                    images: "{{ url_for('images') }}",
                    loadImage: "{{ url_for('load_image') }}",
                    tags: "{{ url_for('tags') }}",
                    imageTags: "{{ url_for('image_tags') }}",
                    toggleTags: "{{ url_for('toggle_tags') }}",
                    addTag: "{{ url_for('add_tag') }}",
                    tagInfo: "{{ url_for('tag_info') }}",
                    latest: "{{ url_for('latest') }}",
                    searchImages: "{{ url_for('search_images') }}"
                }
            };
        </script>
    </head>
    <body>
        <div class="horizontal-panes">
            <div class="left-pane">
                <div class="vertical-panes">
                    <div class="search-pane">
                        <div class="wrapper">
                            <div class="search-bar">
                                <input type="text" id="searchInput" name="searchInput" placeholder="Tag to search for...">
                            </div>
                        </div>
                    </div>
                    <div class="top-pane">
                        <div class="wrapper" style="width: 100%; height: 100%;">
                            <div id="imageContainer"></div>
                        </div>
                    </div>
                    <div class="bottom-pane">
                        <div class="wrapper" style="width: 100%; height: auto;">
                            <div class="button-row">
                                <button id="pagerPrevious" type="button">Previous</button>
                                <div>Image <span id="pagerCrt">0</span> of <span id="pagerAll">0</span></div>
                                <button id="pagerNext" type="button">Next</button>
                                <button id="pagerJump" type="button">Jump</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="right-pane">
                <div class="vertical-panes" style="width: 400px;">
                    <div class="search-pane">
                        <div class="wrapper">
                            <div class="filter-bar">
                                <input id="filterTags" name="filterTags" type="text" placeholder="Filter tags...">
                                <button id="clearTagsFilter" type="button">&#x2297;</button>
                            </div>
                        </div>
                    </div>
                    <div class="top-pane">
                        <div class="wrapper" style="width: 100%; height: 100%;">
                            <div id="tagsContainer"></div>
                        </div>
                    </div>
                    <div class="bottom-pane">
                        <div class="wrapper" style="width: 100%;">
                            <form id="addTag" action="#">
                                <div class="field-wrapper">
                                    <input type="text" id="tagName" name="tagName" placeholder="Tag..." autocomplete="off">
                                </div>
                                <div class="field-wrapper">
                                    <textarea id="tagDescription" name="tagDescription" placeholder="Description..."></textarea>
                                </div>
                                <div class="field-wrapper action-buttons">
                                    <button id="btnManage" type="button">Manage</button>
                                    <button type="submit">Add</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="tagSuggestions" popover="auto"></div>
        <script type="text/javascript">
            document.getElementById('btnManage').addEventListener('click', () => open("{{ url_for('tag_management') }}"))
        </script>
    </body>
</html>